import time
import os
from ultralytics import YOLO
# Load your custom YOLO model
model = YOLO('/home/raspberryss/best.pt')
i = 1 # image counter
while True:
 # Generate a unique image filename
 image_name = f"capture_{i}.jpg"
 image_path = f"/home/raspberryss/{image_name}"
 # Capture image using libcamera
 os.system(f"libcamera-still -o {image_path} --width 640 --height 480 --nopreview")
 print(f"[{time.ctime()}] Captured image: {image_path}")
 # Run YOLO detection
 results = model(image_path, save=True, conf=0.25)
 print(f"[{time.ctime()}] Detection complete. Saved to: {results[0].save_dir}\n")
 i += 1
 time.sleep(3) # Wait for 10 seconds
